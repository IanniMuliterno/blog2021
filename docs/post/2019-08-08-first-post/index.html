<!DOCTYPE html>
<html  dir="ltr" lang="en" data-theme=""><head>
    <title> Ianní Muliterno | Post experimental </title>

    
    <meta charset="utf-8"><meta name="generator" content="Hugo 0.82.0" /><meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover">
    <meta name="description" content="">
    
    
    
    <link rel="stylesheet"
        href="/blog2021/css/style.min.7ec96a07e10b60a6997be730fc5d4d3467a225c68515a7df6ae17ac2500f828c.css"
        integrity="sha256-fslqB&#43;ELYKaZe&#43;cw/F1NNGeiJcaFFaffauF6wlAPgow="
        crossorigin="anonymous"
        type="text/css">
    
    
    <link rel="stylesheet"
        href="/blog2021/css/markupHighlight.min.f798cbda9aaa38f89eb38be6414bd082cfd71a6780375cbf67b6d2fb2b96491e.css"
        integrity="sha256-95jL2pqqOPies4vmQUvQgs/XGmeAN1y/Z7bS&#43;yuWSR4="
        crossorigin="anonymous"
        type="text/css">
    
    <link rel="stylesheet" 
    href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css" 
    integrity="sha512-+4zCK9k+qNFUR5X+cKL9EIR+ZOhtIloNl9GIKS57V1MyNsYpYcUrUeQc9vNfzsWfV28IaLL3i96P9sdNyeRssA==" 
    crossorigin="anonymous" />

    
    <link rel="shortcut icon" href="/blog2021/favicons/favicon.ico" type="image/x-icon">
    <link rel="apple-touch-icon" sizes="180x180" href="/blog2021/favicons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/blog2021/favicons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/blog2021/favicons/favicon-16x16.png">

    <link rel="canonical" href="/blog2021/post/2019-08-08-first-post/">

    
    
    
    
    <script type="text/javascript"
            src="/blog2021/js/anatole-header.min.0c05c0a90d28c968a1cad4fb31abd0b8e1264e788ccefed022ae1d3b6f627514.js"
            integrity="sha256-DAXAqQ0oyWihytT7MavQuOEmTniMzv7QIq4dO29idRQ="
            crossorigin="anonymous"></script>


    
        
        
        <script type="text/javascript"
                src="/blog2021/js/anatole-theme-switcher.min.7fd87181cdd7e8413aa64b6867bb32f3a8dc242e684fc7d5bbb9f600dbc2b6eb.js"
                integrity="sha256-f9hxgc3X6EE6pktoZ7sy86jcJC5oT8fVu7n2ANvCtus="
                crossorigin="anonymous"></script>
    
    <meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="https://iannimuliterno.github.io/blog2021/images/site-feature-image.png"/>

<meta name="twitter:title" content="Post experimental"/>
<meta name="twitter:description" content="Hello my friends, stay awhile and listen!
Primeiro post \o/. Esse é um tema no qual coincidentemente esbarrei enquanto também esbarrava no belo e amigável &lsquo;beautiful-jekyll&rsquo;."/>


    

</head>
<body><div class="sidebar animated fadeInDown ">
    <div class="logo-title">
        <div class="title">
            <img src="/blog2021/images/profile.jpg" alt="profile picture">
            <h3 title=""><a href="/">My blog</a></h3>
            <div class="description">
                <p></p>
            </div>
        </div>
    </div>
    <ul class="social-links">
        
            <li>
                <a href="https://www.linkedin.com/in/iannimuliterno" rel="me" aria-label="Linkedin">
                    <i class="fab fa-linkedin fa-2x" aria-hidden="true"></i>
                </a>
            </li>
        
            <li>
                <a href="https://github.com/IanniMuliterno" rel="me" aria-label="GitHub">
                    <i class="fab fa-github fa-2x" aria-hidden="true"></i>
                </a>
            </li>
        
            <li>
                <a href="https://www.instagram.com/" rel="me" aria-label="instagram">
                    <i class="fab fa-instagram fa-2x" aria-hidden="true"></i>
                </a>
            </li>
        
            <li>
                <a href="mailto:iannimuliterno@gmail.com" rel="me" aria-label="e-mail">
                    <i class="fas fa-envelope fa-2x" aria-hidden="true"></i>
                </a>
            </li>
        
    </ul>
    <div class="footer">
        <div class="by_farbox">&copy; Ianní Muliterno  2021 </div>
    </div>
</div>
<div class="main">
    <div class="page-top  animated fadeInDown ">
    <a role="button" class="navbar-burger" data-target="navMenu" aria-label="menu" aria-expanded="false">
        <span aria-hidden="true"></span>
        <span aria-hidden="true"></span>
        <span aria-hidden="true"></span>
    </a>
    <ul class="nav" id="navMenu">
        
        
            
            <li><a 
                   href="/blog2021/"
                        
                   title="">Home</a></li>
        
            
            <li><a 
                   href="/blog2021/post/"
                        
                   title="">Posts</a></li>
        
            
            <li><a 
                   href="/blog2021/about/"
                        
                   title="">About</a></li>
        
            
            <li><a 
                   href="/blog2021/contact/"
                        
                   title="">Contact</a></li>
        
        
        
            <li class="theme-switch-item">
                <a class="theme-switch" title="Switch Theme">
                    <i class="fas fa-adjust fa-fw" aria-hidden="true"></i>
                </a>
            </li>
        
    </ul>
</div>

    <div class="autopagerize_page_element">
        <div class="content">
    <div class="post  animated fadeInDown ">
        <div class="post-content">
            
            <div class="post-title">
                <h3>Post experimental</h3>
                
                    <div class="info">
                        <em class="fas fa-calendar-day"></em>
                        <span class="date"> 
                                                8/8/2019
                                           </span>
                        <em class="fas fa-stopwatch"></em>
                        <span class="reading-time">5-minute read</span>
                    </div>
                
            </div>

            <p>Hello my friends, stay awhile and listen!</p>
<p>Primeiro post \o/. Esse é um tema no qual coincidentemente esbarrei enquanto também esbarrava no belo e amigável <a href="https://deanattali.com/beautiful-jekyll/">&lsquo;beautiful-jekyll&rsquo;</a>. Combinação de coincidências que me fez (<em>finalmente</em>) começar a escrever.</p>
<p>Vamos a questão, recentemente me uni a um grupo de Devs e nossa primeira brincadeira oficial está sendo trabalhar com uma base de dados de preços de casas que consiste em algumas centenas de linhas e 80 variáveis. Depois de desbravar um pouco a base,observamos multicolinearidade (vulgo : <em>alguns preditores são muito semelhantes entre si</em> ) então surgiram as ideias de como lidar. Criar uma outra variável que contenha informação de ambas e dropar as originais depois? Dropar uma e deixar outra? Se sim, qual dropar? Estamos viajando e na verdade não precisa mexer em nada disso? Como saber o que é melhor?</p>
<p>Existem várias formas de decidir e a primeira que me veio a mente foi o teste da razão de verossimilhança, mas como se trata de um post sobre <strong>como</strong> tomar essa decisão, vamos colocar mais algumas formas de como chegar a ela. Sempre de forma mais intuitiva, simples e direta que minha habilidade de comunicação permitir. <em>Antes de seguir, vale ressaltar que existe uma discussão sobre &lsquo;multicolinearidade é motivo suficiente para se livrar de uma variável?&rsquo;, como tudo na Estatística e suas versões gourmet a resposta é depende, então sempre que houver um tema importante, mesmo que eu não avise, provavelmente tem uma discussão interminável nos bastidores. Para prosseguir sem consciência pesada, vamos convenientemente supor que &lsquo;sim, multicolinearidade é motivo suficiente para se livrar de uma variável&rsquo;</em>.</p>
<p>Saber qual a melhor versão do modelo, de acordo com as alterações sugeridas acima, é uma ótima forma de decidir qual a melhor alteração a se fazer. Então eis aqui algumas métricas para este fim:</p>
<ul>
<li>
<p><strong>AIC</strong></p>
<p>AIC = 2k - 2ln(<img src="https://raw.githubusercontent.com/IanniMuliterno/iannimuliterno.github.io/master/img/L_hat.png" alt="L_hat">)</p>
</li>
</ul>
<p>O critério de informação de Akaike é uma métrica de qualidade de modelo. &lsquo;k&rsquo; é o número de variáveis no modelo e &lsquo;<img src="https://raw.githubusercontent.com/IanniMuliterno/iannimuliterno.github.io/master/img/L_hat.png" alt="L_hat">&rsquo; é a máxima verossimilhança do modelo (que é de forma resumida, um valor que representa o quão bem o meu modelo explica os dados, vamos falar disso em outro post). O que acontece com essa métrica quando dropamos variáveis é que diminuimos o valor de &lsquo;k porém também diminuímos &lsquo;<img src="https://raw.githubusercontent.com/IanniMuliterno/iannimuliterno.github.io/master/img/L_hat.png" alt="L_hat">&rsquo; porque certamente nosso modelo vai ficar um pouco pior em explicar os dados. Observe que pela fórmula do AIC, o menor valor possível significa o melhor modelo possível, então se você dropa uma variável e de repente seu AIC que era -1000 passou para -800, é sinal de que você não deveria estar dropando tal variável. Por outro lado se o AIC ficar ainda menor ou se a diferença é ínfima (de -1000 para -990 por exemplo), é sinal de que o drop da variável é aceitável.</p>
<ul>
<li>
<p><strong>BIC</strong></p>
<p>BIC = ln(n)k - 2ln(<img src="https://raw.githubusercontent.com/IanniMuliterno/iannimuliterno.github.io/master/img/L_hat.png" alt="L_hat">)</p>
</li>
</ul>
<p>O critério de informação Bayesiano é bastante parecido com o AIC, e é avaliado da mesma forma, quanto menor melhor. A diferença na fórmula é que o &lsquo;2&rsquo; é substituido por ln(n) onde n é o numero de observações, ou seja, o BIC é melhor em penalizar a complexidade do modelo. Em geral a análise do AIC concorda com a do BIC, quando elas discordam o comum é que o AIC esteja indicando que versões mais complexas são melhores. No fim das contas, se você decidir que um deles é interessante para seu caso, o sábio é usar os dois. Se esses carinhas mais simples chamaram sua atenção, aqui está um breve post abordando <a href="https://www.methodology.psu.edu/resources/AIC-vs-BIC/">AIC vs BIC</a>, onde inclusive eles fazem a ousada afirmação de que sua maior referência deve ser o AIC se um falso negativo é um problema mais grave para você, e BIC caso contrário. Fiquem a vontade para investigar e decidir se concordam com isso.</p>
<ul>
<li><strong>Cross-Validation</strong></li>
</ul>
<p>Cross-validation é um método que costuma ser aplicado em observações (ou instâncias) e consiste em dividir o banco em partes iguais, de modo que as variáveis em cada &lsquo;fatia&rsquo; do banco estejam distribuídas da mesma maneira. Então separa uma dessas fatias, treina o modelo usando todas as outras observações e então testa usando a parte que você separou, repetindo o processo até que se tenha usado todas as fatias do banco como teste, deste modo é possível prever o erro do modelo de forma mais consistente. (<em>existem variações do cross-validation, a que foi descrita aqui se chama &lsquo;leave-one-out&rsquo;</em>).</p>
<p>Usando este raciocínio, é possível fazer o <em>leave-one-out</em> com as variáveis, comparando a taxa de erro dos modelos com este mesma taxa calculada utilizando o banco de treino completo. Isso é bem parecido com o que é preciso fazer quando queremos usar o AIC ou BIC como métricas, porém o Cross-validation é mais indicado para uma &lsquo;busca as cegas&rsquo;.</p>
<ul>
<li>
<p><strong>Likelihood Ratio Test</strong></p>
<p>LR = -2[ln(<img src="https://raw.githubusercontent.com/IanniMuliterno/iannimuliterno.github.io/master/img/L_hat.png" alt="L_hat">0)- ln(<img src="https://raw.githubusercontent.com/IanniMuliterno/iannimuliterno.github.io/master/img/L_hat.png" alt="L_hat">)]</p>
</li>
</ul>
<p>O teste da razão da verossimilhança (<em>LR</em>), como o nome sugere, compara os valores da máxima verossimilhança dos modelos. Para entender melhor o que está acontecendo vamos admitir que <img src="https://raw.githubusercontent.com/IanniMuliterno/iannimuliterno.github.io/master/img/L_hat.png" alt="L_hat">0 é a máxima verossimilhança calculada com o modelo completo e <img src="https://raw.githubusercontent.com/IanniMuliterno/iannimuliterno.github.io/master/img/L_hat.png" alt="L_hat"> é a mesma métrica calculada depois que o modelo sofre a alteração que se quer testar. Multiplicar essa diferença por -2 permite que a métrica seja associada a uma distribuição qui-quadrado, logo para chegar a uma conclusão sobre os modelos, LR é comparado a um certo valor. Este tal valor é retirado da distribuição qui-quadrado e compara-lo com LR equivale a executar um teste de hipótese, onde a hipótese 0 é que não há evidências de que os modelos tem performances diferentes.</p>
<p>Sim, explicar à fundo o LR é um pouco tricky, precisaríamos ainda chafurdar um pouco em teste de hipótese, em entender o básico da distribuição qui-quadrado e saber o que acontece no cálculo da máxima verossimilhança. Felizmente, mesmo que o LR não seja o mais amigável dos métodos, graças a softwares como o R não é necessário implementar o teste, apenas compreender o que acontece por trás dele. Se mesmo assim agora você quer saber <em>o que diabos acontece no cálculo da máxima verossimilhança</em>, ou você não se conforma porque eu não falei mais sobre o valor com o qual LR é comparado no fim das contas, você pode <a href="https://en.wikipedia.org/wiki/Likelihood-ratio_test">clicar aqui</a> e <a href="http://www.portalaction.com.br/confiabilidade/421-metodo-de-maxima-verossimilhanca">aqui</a>.</p>
<p>A presto!</p>
</div>
        <div class="post-footer">
            <div class="info">
                <span class="separator"><a class="category" href="/blog2021/categories/r/">R</a></span>
                <span class="separator"><a class="tag" href="/blog2021/tags/compara%C3%A7%C3%A3o/">comparação</a><a class="tag" href="/blog2021/tags/modelagem/">modelagem</a><a class="tag" href="/blog2021/tags/m%C3%A1xima_verossimilhan%C3%A7a/">máxima_verossimilhança</a></span>
            </div>
        </div>

        <div id="fb_comments_container">
                    <h2>comments</h2>
                    <div id="disqus_thread"></div>
<script type="application/javascript">
    var disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "annymuliterno" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
                </div>
    </div>


        </div>
    </div>
</div>

<script type="text/javascript"
        src="/blog2021/js/medium-zoom.min.2d6fd0be87fa98f0c9b4dc2536b312bbca48757f584f6ea1f394abc9bcc38fbc.js"
        integrity="sha256-LW/Qvof6mPDJtNwlNrMSu8pIdX9YT26h85SrybzDj7w="
        crossorigin="anonymous"></script>
<script src="/blog2021/js/math-code.js"></script>
<script async src="//cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML"></script>


<script src="//yihui.org/js/math-code.js"></script>

<script async
  src="//mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML">
</script>

<script async defer src="https://analytics.example.com/latest.js"></script>
<noscript><img src="https://analytics.example.com/noscript.gif" alt=""/></noscript>

</body>

</html>
